<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Belleza Natural | Effective Beauty - Dermocosm√©tica Avanzada</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    
    <style>
        /* --- DISE√ëO VISUAL (Look & Feel Profesional) --- */
        :root {
            --primary: #2d5016;        /* Verde Bosque (Autoridad) */
            --primary-light: #4a7c29;  /* Verde Hoja (Naturaleza) */
            --accent: #c5a059;         /* Dorado (Lujo/Talika) */
            --bg-cream: #fcfbf9;       /* Base Crema (Org√°nico) */
            --white: #ffffff;
            --text-main: #1c1c1c;
            --text-soft: #555555;
            --shadow-card: 0 10px 30px rgba(45, 80, 22, 0.06);
            --radius: 16px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--bg-cream);
            color: var(--text-main);
            line-height: 1.6;
            overflow-x: hidden;
        }

        h1, h2, h3, .brand-font { font-family: 'Playfair Display', serif; }

        /* HEADER */
        header {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            padding: 0.8rem 0;
            position: fixed; width: 100%; top: 0; z-index: 1000;
            border-bottom: 1px solid rgba(0,0,0,0.03);
        }
        nav {
            max-width: 1280px; margin: 0 auto; padding: 0 2rem;
            display: flex; justify-content: space-between; align-items: center;
        }
        .logo {
            font-size: 1.6rem; font-weight: 700; color: var(--primary);
            text-decoration: none; display: flex; align-items: center; gap: 8px;
        }
        .nav-links { display: flex; gap: 2rem; list-style: none; align-items: center; }
        .nav-links a {
            text-decoration: none; color: var(--text-main); font-weight: 500;
            font-size: 0.9rem; letter-spacing: 0.5px; transition: color 0.3s;
        }
        .nav-links a:hover { color: var(--primary); }
        
        .btn-auth {
            background: var(--primary); color: white !important;
            padding: 0.6rem 1.5rem; border-radius: 50px;
            transition: all 0.3s; cursor: pointer;
        }
        .btn-auth:hover { background: var(--primary-light); transform: translateY(-2px); }

        /* HERO */
        .hero {
            height: 90vh;
            background: linear-gradient(to right, rgba(255,255,255,0.85), rgba(255,255,255,0.5)), url('https://images.unsplash.com/photo-1620916566398-39f1143ab7be?q=80&w=1920&auto=format&fit=crop');
            background-size: cover; background-position: center;
            display: flex; align-items: center; padding: 0 10%; margin-top: 60px;
        }
        .hero-content { max-width: 650px; animation: fadeIn Up 1s ease; }
        .hero h1 { font-size: 3.8rem; line-height: 1.1; color: var(--primary); margin-bottom: 1.5rem; }
        .hero p { font-size: 1.1rem; color: var(--text-soft); margin-bottom: 2.5rem; }
        
        .btn-cta {
            padding: 1rem 2.5rem; background: var(--primary); color: white;
            text-decoration: none; border-radius: 50px; font-weight: 600;
            letter-spacing: 1px; transition: 0.3s; display: inline-block;
        }
        .btn-cta:hover { background: var(--primary-light); transform: scale(1.05); }

        /* HISTORIA Y MISI√ìN */
        .history-section { padding: 6rem 2rem; background: white; }
        .history-container { max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; align-items: center; }
        .history-text h2 { font-size: 2.5rem; margin-bottom: 1.5rem; color: var(--primary); }
        .values-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; margin-top: 2rem; }
        .value-card { text-align: center; padding: 1.5rem; background: var(--bg-cream); border-radius: var(--radius); border: 1px solid #eee; }
        .value-card span { font-size: 2rem; color: var(--accent); margin-bottom: 0.5rem; display: block; }

        /* CAT√ÅLOGO */
        .catalog { padding: 6rem 2rem; }
        .section-header { text-align: center; margin-bottom: 4rem; }
        .section-header h2 { font-size: 2.8rem; color: var(--primary); margin-bottom: 1rem; }
        .products-grid {
            max-width: 1280px; margin: 0 auto;
            display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2.5rem;
        }
        .product-card {
            background: white; border-radius: var(--radius); overflow: hidden;
            box-shadow: var(--shadow-card); transition: 0.4s; display: flex; flex-direction: column;
        }
        .product-card:hover { transform: translateY(-10px); box-shadow: 0 20px 40px rgba(45,80,22,0.15); }
        .product-img { height: 320px; background: #f9f9f9; display: flex; align-items: center; justify-content: center; overflow: hidden; }
        .product-img img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
        .product-card:hover img { transform: scale(1.05); }
        
        .product-info { padding: 1.5rem; flex-grow: 1; display: flex; flex-direction: column; }
        .tag { font-size: 0.75rem; color: var(--accent); text-transform: uppercase; font-weight: 700; letter-spacing: 1px; margin-bottom: 0.5rem; }
        .product-info h3 { font-size: 1.3rem; margin-bottom: 0.5rem; color: var(--text-main); }
        .product-info p { font-size: 0.9rem; color: var(--text-soft); margin-bottom: 1rem; flex-grow: 1; }
        .price-row { display: flex; justify-content: space-between; align-items: center; border-top: 1px solid #eee; padding-top: 1rem; margin-top: auto; }
        .price { font-weight: 700; font-size: 1.1rem; color: var(--primary); }

        /* TESTIMONIOS */
        .testimonials { background: var(--primary); color: white; padding: 6rem 2rem; }
        .test-grid { max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; }
        .test-card { background: rgba(255,255,255,0.1); backdrop-filter: blur(5px); padding: 2.5rem; border-radius: var(--radius); border: 1px solid rgba(255,255,255,0.2); }
        .stars { color: var(--accent); margin-bottom: 1rem; letter-spacing: 2px; }
        .test-quote { font-style: italic; opacity: 0.9; font-size: 1.05rem; line-height: 1.8; margin-bottom: 1.5rem; }

        /* CHATBOT */
        .chatbot-toggler {
            position: fixed; bottom: 30px; right: 30px;
            width: 65px; height: 65px; background: var(--primary);
            border-radius: 50%; cursor: pointer; border: none;
            display: flex; align-items: center; justify-content: center;
            color: white; box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            transition: transform 0.3s; z-index: 2000;
        }
        .chatbot-toggler:hover { transform: scale(1.1); }
        
        .chatbot {
            position: fixed; right: 35px; bottom: 100px;
            width: 400px; background: white; border-radius: 20px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.15); overflow: hidden;
            opacity: 0; pointer-events: none; transform: scale(0.5); transform-origin: bottom right;
            transition: all 0.3s ease; z-index: 1999;
        }
        body.show-chatbot .chatbot { opacity: 1; pointer-events: auto; transform: scale(1); }

        .chat-header { background: var(--primary); padding: 1.2rem; color: white; display: flex; justify-content: space-between; align-items: center; }
        .chat-header h2 { font-size: 1.1rem; margin: 0; font-weight: 600; display: flex; align-items: center; gap: 8px; }
        
        .chatbox { height: 420px; overflow-y: auto; padding: 1.5rem; background: #f4f4f4; }
        .chat { display: flex; list-style: none; margin-bottom: 15px; }
        .chat p { padding: 12px 16px; border-radius: 15px; max-width: 85%; font-size: 0.95rem; line-height: 1.5; white-space: pre-wrap; }
        .chat.incoming p { background: white; color: var(--text-main); border-bottom-left-radius: 2px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .chat.outgoing { justify-content: flex-end; }
        .chat.outgoing p { background: var(--primary-light); color: white; border-bottom-right-radius: 2px; }

        .chat-input { padding: 1rem; background: white; border-top: 1px solid #eee; display: flex; gap: 10px; }
        .chat-input textarea { width: 100%; height: 45px; border: none; outline: none; resize: none; padding: 12px 0; font-family: inherit; font-size: 0.95rem; }
        .chat-input span { align-self: center; color: var(--primary); font-size: 1.8rem; cursor: pointer; }

        /* MODAL */
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); backdrop-filter: blur(4px); z-index: 3000; justify-content: center; align-items: center; }
        .modal-overlay.active { display: flex; animation: fadeIn 0.3s; }
        .auth-card { background: white; padding: 2.5rem; width: 90%; max-width: 400px; border-radius: var(--radius); position: relative; }
        .close-btn-modal { position: absolute; top: 15px; right: 15px; cursor: pointer; }
        
        .auth-form input { width: 100%; padding: 1rem; margin-bottom: 1rem; border: 1px solid #ddd; border-radius: 8px; outline: none; }
        .auth-form input:focus { border-color: var(--primary); }
        .auth-form button { width: 100%; padding: 1rem; background: var(--primary); color: white; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; }

        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Responsive */
        @media (max-width: 768px) {
            .menu-toggle { display: block; }
            .nav-links { position: fixed; top: 65px; left: -100%; background: white; width: 100%; flex-direction: column; padding: 2rem; transition: 0.3s; box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
            .nav-links.active { left: 0; }
            .history-container { grid-template-columns: 1fr; }
            .hero h1 { font-size: 2.5rem; }
            .chatbot { width: 100%; right: 0; bottom: 0; border-radius: 20px 20px 0 0; height: 80vh; }
            .chatbox { height: calc(100% - 130px); }
        }
    </style>
</head>
<body>

    <header>
        <nav>
            <a href="#" class="logo"><span class="material-symbols-outlined">spa</span> Belleza <span>Natural</span></a>
            <div class="menu-toggle" onclick="document.querySelector('.nav-links').classList.toggle('active')">
                <span class="material-symbols-outlined">menu</span>
            </div>
            <ul class="nav-links">
                <li><a href="#home">Inicio</a></li>
                <li><a href="#history">Filosof√≠a</a></li>
                <li><a href="#catalog">Productos</a></li>
                <li><a href="#testimonials">Historias</a></li>
                <li><a href="#contact">Contacto</a></li>
                <li id="authContainer"><a class="btn-auth" id="loginOpenBtn">Mi Cuenta</a></li>
            </ul>
        </nav>
    </header>

    <section id="home" class="hero">
        <div class="hero-content">
            <h1>La Ciencia de la<br>Naturaleza en tu Piel</h1>
            <p>Tratamientos dermocosm√©ticos org√°nicos. Eliminamos manchas, acn√© y fortalecemos tu belleza con ingredientes puros y resultados garantizados.</p>
            <a href="#catalog" class="btn-cta">Explorar Colecci√≥n</a>
        </div>
    </section>

    <section id="history" class="history-section">
        <div class="history-container">
            <div class="history-img">
                <img src="https://images.unsplash.com/photo-1616394584738-fc6e612e71b9?q=80&w=1000&auto=format&fit=crop" alt="Nuestra Esencia" style="width:100%; border-radius:16px; box-shadow:var(--shadow-card);">
            </div>
            <div class="history-text">
                <h2>Nuestra Esencia</h2>
                <p>Effective Beauty naci√≥ en el coraz√≥n de Puebla con una misi√≥n clara: demostrar que la cosm√©tica org√°nica puede ofrecer resultados dermatol√≥gicos reales. Lo que comenz√≥ como una b√∫squeda personal para tratar manchas dif√≠ciles, se convirti√≥ en una l√≠nea avalada por la ciencia.</p>
                <div class="values-grid">
                    <div class="value-card">
                        <span class="material-symbols-outlined">science</span>
                        <h3>Ciencia</h3>
                        <p>F√≥rmulas con Talika y C√©lulas Madre.</p>
                    </div>
                    <div class="value-card">
                        <span class="material-symbols-outlined">eco</span>
                        <h3>Org√°nico</h3>
                        <p>Libre de parabenos y crueldad animal.</p>
                    </div>
                    <div class="value-card">
                        <span class="material-symbols-outlined">verified</span>
                        <h3>Garant√≠a</h3>
                        <p>Resultados visibles o tu dinero de vuelta.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="catalog" class="catalog">
        <div class="container">
            <div class="section-header">
                <span class="tag" style="font-size: 1rem;">Effective Beauty</span>
                <h2>Nuestra Colecci√≥n Experta</h2>
            </div>
            <div class="products-grid">
                <div class="product-card">
                    <div class="product-img">
                        <img src="Crema.jpg" alt="Crema Desmanchadora" onerror="this.src='https://via.placeholder.com/400x400?text=Crema+Desmanchadora'">
                    </div>
                    <div class="product-info">
                        <span class="tag">Facial</span>
                        <h3>Crema Desmanchadora</h3>
                        <p>Con Col√°geno y Vitamina E. Elimina pa√±o, sol y acn√©. *Uso obligatorio con bloqueador.</p>
                        <div class="price-row">
                            <span class="price">$425 MXN</span>
                            <a href="#contact" class="material-symbols-outlined" style="color:var(--primary); text-decoration:none;">shopping_bag</a>
                        </div>
                    </div>
                </div>
                <div class="product-card">
                    <div class="product-img">
                        <img src="Rimel dorado.jpg" alt="Mascara Dorada" onerror="this.src='https://via.placeholder.com/400x400?text=Rimel+Talika'">
                    </div>
                    <div class="product-info">
                        <span class="tag">Crecimiento</span>
                        <h3>Mascara Dorada (Talika)</h3>
                        <p>Tratamiento premium. Estimula el crecimiento real y destapa fol√≠culos.</p>
                        <div class="price-row">
                            <span class="price">$340 MXN</span>
                            <a href="#contact" class="material-symbols-outlined" style="color:var(--primary); text-decoration:none;">shopping_bag</a>
                        </div>
                    </div>
                </div>
                <div class="product-card">
                    <div class="product-img">
                        <img src="Carbon.jpg" alt="Jab√≥n Carb√≥n" onerror="this.src='https://via.placeholder.com/400x400?text=Jabon+Carbon'">
                    </div>
                    <div class="product-info">
                        <span class="tag">Anti-Acn√©</span>
                        <h3>Jab√≥n Carb√≥n Activado</h3>
                        <p>Elimina puntos negros y matifica. Ideal para piel grasa y acn√© activo.</p>
                        <div class="price-row">
                            <span class="price">$140 MXN</span>
                            <a href="#contact" class="material-symbols-outlined" style="color:var(--primary); text-decoration:none;">shopping_bag</a>
                        </div>
                    </div>
                </div>
                <div class="product-card">
                    <div class="product-img">
                        <img src="Balsamo para pies V1.jpg" alt="B√°lsamo Pies" onerror="this.src='https://via.placeholder.com/400x400?text=Balsamo+Pies'">
                    </div>
                    <div class="product-info">
                        <span class="tag">Reparaci√≥n</span>
                        <h3>B√°lsamo Awesome Feet</h3>
                        <p>Repara talones agrietados en 5 d√≠as. Seguro para pie diab√©tico.</p>
                        <div class="price-row">
                            <span class="price">$420 MXN</span>
                            <a href="#contact" class="material-symbols-outlined" style="color:var(--primary); text-decoration:none;">shopping_bag</a>
                        </div>
                    </div>
                </div>
                <div class="product-card">
                    <div class="product-img">
                        <img src="Rimel mascara.jpg" alt="R√≠mel Manzana" onerror="this.src='https://via.placeholder.com/400x400?text=Rimel+Verde'">
                    </div>
                    <div class="product-info">
                        <span class="tag">Fortalecedor</span>
                        <h3>R√≠mel Tierra Mineral</h3>
                        <p>Con C√©lulas Madre de Manzana. Fortalece y evita la ca√≠da. Look natural.</p>
                        <div class="price-row">
                            <span class="price">$280 MXN</span>
                            <a href="#contact" class="material-symbols-outlined" style="color:var(--primary); text-decoration:none;">shopping_bag</a>
                        </div>
                    </div>
                </div>
                <div class="product-card">
                    <div class="product-img">
                        <img src="Rimel.jpg" alt="R√≠mel Rosa" onerror="this.src='https://via.placeholder.com/400x400?text=Rimel+Rosa'">
                    </div>
                    <div class="product-info">
                        <span class="tag">Longitud</span>
                        <h3>R√≠mel Doble Fibra</h3>
                        <p>Efecto pesta√±a postiza inmediato con fibras alargadoras. Waterproof.</p>
                        <div class="price-row">
                            <span class="price">$260 MXN</span>
                            <a href="#contact" class="material-symbols-outlined" style="color:var(--primary); text-decoration:none;">shopping_bag</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="testimonials" class="testimonials">
        <div class="container">
            <div class="section-header" style="margin-bottom:2rem;">
                <h2 style="color:white;">Resultados Reales</h2>
            </div>
            <div class="test-grid">
                <div class="test-card">
                    <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                    <p class="test-quote">"El pa√±o de mi embarazo no se quitaba con nada. La Crema Desmanchadora fue mi salvaci√≥n, en 2 meses mi piel cambi√≥."</p>
                    <h4>- Mariana G.</h4>
                </div>
                <div class="test-card">
                    <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                    <p class="test-quote">"Tengo diabetes y mis pies siempre estaban agrietados. El B√°lsamo Awesome Feet es lo √∫nico que los mantiene sanos sin arder."</p>
                    <h4>- Carlos R.</h4>
                </div>
                <div class="test-card">
                    <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                    <p class="test-quote">"Mis pesta√±as no crec√≠an. El R√≠mel Dorado con Talika s√≠ funciona, ahora se ven tupidas y largas de verdad."</p>
                    <h4>- Sofia L.</h4>
                </div>
            </div>
        </div>
    </section>

    <section id="contact" style="padding: 6rem 2rem; background:white;">
        <div class="container" style="max-width:800px; text-align:center;">
            <h2 class="section-title">Agenda tu Pedido</h2>
            <p class="section-subtitle">Enviamos a toda Latinoam√©rica. Asesor√≠a personalizada por expertos.</p>
            
            <form id="contactForm" style="margin-top:3rem; text-align:left;">
                <div style="display:grid; grid-template-columns:1fr 1fr; gap:1.5rem; margin-bottom:1.5rem;">
                    <input type="text" name="name" placeholder="Nombre Completo" required style="width:100%; padding:1rem; border:1px solid #ddd; border-radius:8px;">
                    <input type="email" name="email" placeholder="Correo Electr√≥nico" required style="width:100%; padding:1rem; border:1px solid #ddd; border-radius:8px;">
                </div>
                <textarea name="message" placeholder="¬øEn qu√© producto est√°s interesado?" required style="width:100%; padding:1rem; border:1px solid #ddd; border-radius:8px; height:120px; margin-bottom:1.5rem;"></textarea>
                <button type="submit" class="btn-cta" style="border:none; width:100%; cursor:pointer;">Enviar Mensaje</button>
            </form>
            <div style="margin-top:3rem; display:flex; justify-content:center; gap:2rem; color:var(--text-soft);">
                <span>üìß wapusito@gmail.com</span>
                <span>üì± +52 1 55 1959 3760</span>
            </div>
        </div>
    </section>

    <footer>
        <div style="background:#1a1a1a; color:white; padding:3rem; text-align:center;">
            <p class="brand-font" style="font-size:1.5rem; margin-bottom:1rem;">Belleza Natural</p>
            <p style="font-size:0.9rem; opacity:0.7;">&copy; 2025 Effective Beauty. Todos los derechos reservados.</p>
        </div>
    </footer>

    <button class="chatbot-toggler">
        <span class="material-symbols-outlined">medical_services</span>
    </button>
    <div class="chatbot">
        <div class="chat-header">
            <h2><span class="material-symbols-outlined">smart_toy</span> Dermat√≥logo Virtual</h2>
            <span class="material-symbols-outlined close-btn" style="cursor:pointer;">close</span>
        </div>
        <ul class="chatbox">
            <li class="chat incoming">
                <span class="material-symbols-outlined">medical_services</span>
                <p>Hola üëã Soy el especialista de Belleza Natural.<br><br>Puedo crear una rutina para ti basada en:<br>1. <b>Manchas/Pa√±o</b><br>2. <b>Acn√©/Grasa</b><br>3. <b>Pesta√±as</b> (Crecimiento/Fortalecimiento)<br>4. <b>Pies</b> (Grietas/Callos)<br><br>¬øQu√© te preocupa hoy?</p>
            </li>
        </ul>
        <div class="chat-input">
            <textarea placeholder="Escribe aqu√≠..." required></textarea>
            <span class="material-symbols-outlined" id="send-btn">send</span>
        </div>
    </div>

    <div id="authModal" class="modal-overlay">
        <div class="auth-card">
            <span class="material-symbols-outlined close-btn-modal" id="closeModal">close</span>
            <div style="text-align:center; margin-bottom:2rem;">
                <h3 style="color:var(--primary);">Bienvenido</h3>
                <p style="font-size:0.9rem; color:var(--text-soft);">Reg√≠strate para seguimiento personalizado</p>
            </div>
            
            <div style="display:flex; justify-content:center; gap:1rem; margin-bottom:1.5rem; border-bottom:1px solid #eee;">
                <button class="auth-tab active" data-tab="login" style="background:none; border:none; padding:10px; font-weight:600; cursor:pointer; color:var(--primary); border-bottom:2px solid var(--primary);">Ingresar</button>
                <button class="auth-tab" data-tab="register" style="background:none; border:none; padding:10px; cursor:pointer; color:#aaa;">Registrarse</button>
            </div>

            <form id="loginForm" class="auth-form active">
                <input type="email" name="email" placeholder="Correo" required style="width:100%; padding:10px; margin-bottom:10px; border:1px solid #ddd; border-radius:5px;">
                <input type="password" name="password" placeholder="Contrase√±a" required style="width:100%; padding:10px; margin-bottom:20px; border:1px solid #ddd; border-radius:5px;">
                <button type="submit" style="width:100%; padding:12px; background:var(--primary); color:white; border:none; border-radius:5px; cursor:pointer;">Iniciar Sesi√≥n</button>
            </form>

            <form id="registerForm" class="auth-form" style="display:none;">
                <input type="text" name="fullName" placeholder="Nombre Completo" required style="width:100%; padding:10px; margin-bottom:10px; border:1px solid #ddd; border-radius:5px;">
                <input type="tel" name="phone" placeholder="Tel√©fono" required style="width:100%; padding:10px; margin-bottom:10px; border:1px solid #ddd; border-radius:5px;">
                <input type="email" name="email" placeholder="Correo" required style="width:100%; padding:10px; margin-bottom:10px; border:1px solid #ddd; border-radius:5px;">
                <input type="password" name="password" placeholder="Contrase√±a (min 6 caracteres)" required style="width:100%; padding:10px; margin-bottom:20px; border:1px solid #ddd; border-radius:5px;">
                <button type="submit" style="width:100%; padding:12px; background:var(--primary); color:white; border:none; border-radius:5px; cursor:pointer;">Crear Cuenta</button>
            </form>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getFirestore, collection, addDoc, setDoc, doc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";

        // CONFIGURACI√ìN FIREBASE (NO MODIFICAR)
        const firebaseConfig = {
            apiKey: "AIzaSyA8-yRfaaxYoEt190sa-aQwamvyLwbK3qw",
    authDomain: "belleza-natural-fc3bf.firebaseapp.com",
    projectId: "belleza-natural-fc3bf",
    storageBucket: "belleza-natural-fc3bf.firebasestorage.app",
    messagingSenderId: "987104812554",
    appId: "1:987104812554:web:1578f7ff28599fd9af09f3"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);

        // --- L√ìGICA DE REGISTRO (CORREGIDA) ---
        const registerForm = document.getElementById('registerForm');
        registerForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const fd = new FormData(registerForm);
            const name = fd.get('fullName');
            const phone = fd.get('phone');
            const email = fd.get('email');
            const pass = fd.get('password');

            try {
                const cred = await createUserWithEmailAndPassword(auth, email, pass);
                // Guardar en Firestore 'usuarios'
                await setDoc(doc(db, "usuarios", cred.user.uid), {
                    nombre: name,
                    telefono: phone,
                    email: email,
                    fecha: serverTimestamp()
                });
                alert("¬°Registro Exitoso! Bienvenido a la familia Effective Beauty.");
                document.getElementById('authModal').style.display = 'none';
                registerForm.reset();
            } catch (err) {
                console.error(err);
                alert("Error: " + err.message);
            }
        });

        // --- L√ìGICA LOGIN ---
        const loginForm = document.getElementById('loginForm');
        loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            try {
                await signInWithEmailAndPassword(auth, new FormData(loginForm).get('email'), new FormData(loginForm).get('password'));
                document.getElementById('authModal').style.display = 'none';
                alert("Sesi√≥n iniciada");
            } catch (err) { alert("Credenciales incorrectas"); }
        });

        // --- UI STATE AUTH ---
        const authBtn = document.getElementById('loginOpenBtn');
        onAuthStateChanged(auth, (user) => {
            if(user) {
                authBtn.innerText = "Cerrar Sesi√≥n";
                authBtn.onclick = () => signOut(auth);
            } else {
                authBtn.innerText = "Mi Cuenta";
                authBtn.onclick = () => document.getElementById('authModal').style.display = 'flex';
            }
        });

        // --- CONTACT FORM ---
        document.getElementById('contactForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = e.target.querySelector('button');
            btn.innerText = "Enviando...";
            try {
                await addDoc(collection(db, "contactos"), {
                    nombre: new FormData(e.target).get('name'),
                    email: new FormData(e.target).get('email'),
                    mensaje: new FormData(e.target).get('message'),
                    fecha: serverTimestamp()
                });
                alert("Mensaje enviado correctamente");
                e.target.reset();
            } catch(err) { console.error(err); }
            btn.innerText = "Enviar Mensaje";
        });

        // --- MODAL TABS ---
        const tabs = document.querySelectorAll('.auth-tab');
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.auth-tab').forEach(t => { t.classList.remove('active'); t.style.borderBottom='none'; t.style.color='#aaa'; });
                document.querySelectorAll('.auth-form').forEach(f => f.style.display = 'none');
                
                tab.classList.add('active');
                tab.style.borderBottom = '2px solid var(--primary)';
                tab.style.color = 'var(--primary)';
                document.getElementById(tab.dataset.tab + 'Form').style.display = 'block';
            });
        });
        document.getElementById('closeModal').onclick = () => document.getElementById('authModal').style.display = 'none';
    </script>

    <script>
        const chatbotToggler = document.querySelector(".chatbot-toggler");
        const closeBtn = document.querySelector(".close-btn");
        const chatbox = document.querySelector(".chatbox");
        const chatInput = document.querySelector(".chat-input textarea");
        const sendChatBtn = document.querySelector("#send-btn");

        let userMessage = null;

        // BASE DE CONOCIMIENTOS (Extra√≠da del documento )
        const knowledgeBase = [
            // CASO 1: MANCHAS (Crema + Jab√≥n Aclarante)
            {
                keys: ["mancha", "pa√±o", "sol", "aclarar", "pecas", "melasma", "crema"],
                resp: "üë®‚Äç‚öïÔ∏è <b>Diagn√≥stico:</b> Para hiperpigmentaci√≥n (manchas por sol, pa√±o, acn√©), tu tratamiento ideal es la <b>Crema Desmanchadora ($425 MXN)</b>.<br><br>üî¨ <b>Ciencia:</b> Contiene Col√°geno y Vitamina E. √ösala de noche.<br>‚ö†Ô∏è <b>Advertencia M√©dica:</b> Es OBLIGATORIO usar protector solar de d√≠a.<br><br>üí° <b>Tip Pro:</b> Comb√≠nala con el <b>Jab√≥n Aclarante ($125)</b> en la ducha para preparar la piel."
            },
            // CASO 2: ACN√â (Jab√≥n Carb√≥n)
            {
                keys: ["acn√©", "granos", "grasa", "puntos negros", "brillo", "carb√≥n"],
                resp: "üë®‚Äç‚öïÔ∏è <b>Diagn√≥stico:</b> Para piel grasa o con tendencia acneica, prescribo el <b>Jab√≥n de Carb√≥n Activado ($140 MXN)</b>.<br><br>üî¨ <b>Acci√≥n:</b> Funciona por adsorci√≥n (como un im√°n) para sacar la grasa del poro y matificar.<br><br>¬øTe gustar√≠a saber c√≥mo usarlo para no resecar tu piel?"
            },
            // CASO 3: PESTA√ëAS (Diagn√≥stico Diferencial)
            {
                keys: ["pesta√±a", "r√≠mel", "rimel", "crecer", "caen", "cortas"],
                resp: "Para pesta√±as tengo 3 tratamientos seg√∫n tu necesidad:<br><br>1. <b>¬øPocas/Cortas?</b> Usa <b>Mascara Dorada ($340)</b>. Contiene TALIKA para estimular crecimiento real.<br>2. <b>¬øD√©biles/Se caen?</b> Usa <b>R√≠mel Verde ($280)</b>. Tiene C√©lulas Madre para fortalecer.<br>3. <b>¬øEvento especial?</b> Usa <b>R√≠mel Rosa ($260)</b>. Tiene fibras para largo inmediato.<br><br>¬øCu√°l describe mejor tu caso?"
            },
            // CASO 4: PIES (B√°lsamo)
            {
                keys: ["pies", "talones", "grietas", "callos", "diab√©tico", "b√°lsamo"],
                resp: "üë®‚Äç‚öïÔ∏è <b>Tratamiento:</b> Para hiperqueratosis (callos) y grietas, usa el <b>B√°lsamo Awesome Feet ($420 MXN)</b>.<br><br>‚è±Ô∏è <b>Eficacia:</b> Resultados visibles en 2-5 d√≠as. Es hipoalerg√©nico y 100% seguro para pie diab√©tico.<br>Apl√≠calo de noche."
            },
            // ZONAS DIF√çCILES
            {
                keys: ["axila", "cuello", "entrepierna", "codo", "negro"],
                resp: "Para zonas de fricci√≥n (axilas, cuello, entrepierna), el <b>Jab√≥n Aclarante ($125 MXN)</b> es el especialista. √ösalo diariamente en la ducha sin tallar fuerte."
            },
            // PRECIOS
            {
                keys: ["precio", "costo", "cuanto"],
                resp: "üìã <b>Lista de Precios Oficial:</b><br>‚Ä¢ Crema Desmanchadora: $425<br>‚Ä¢ B√°lsamo Pies: $420<br>‚Ä¢ R√≠mel Dorado (Crecimiento): $340<br>‚Ä¢ R√≠mel Verde (Fortalecedor): $280<br>‚Ä¢ R√≠mel Rosa (Fibras): $260<br>‚Ä¢ Jab√≥n Carb√≥n: $140<br>‚Ä¢ Jab√≥n Aclarante: $125<br><br>¬øTe interesa alg√∫n kit?"
            },
            // CONTACTO
            {
                keys: ["comprar", "pedir", "env√≠o", "whatsapp"],
                resp: "üì¶ Enviamos a todo M√©xico y Latinoam√©rica. Puedes pedir aqu√≠ o por WhatsApp al <b>+52 1 55 1959 3760</b>."
            },
            // SALUDO
            {
                keys: ["hola", "buenos", "buenas"],
                resp: "¬°Hola! Soy tu Dermat√≥logo Virtual de Effective Beauty. üåø<br><br>Cu√©ntame, ¬øqu√© te gustar√≠a mejorar hoy? (Manchas, Acn√©, Pesta√±as o Pies)"
            }
        ];

        const createChatLi = (message, className) => {
            const chatLi = document.createElement("li");
            chatLi.classList.add("chat", className);
            let chatContent = className === "outgoing" ? `<p></p>` : `<span class="material-symbols-outlined">medical_services</span><p></p>`;
            chatLi.innerHTML = chatContent;
            chatLi.querySelector("p").innerHTML = message;
            return chatLi;
        }

        const generateResponse = (userMsg) => {
            const lowerMsg = userMsg.toLowerCase();
            const match = knowledgeBase.find(obj => obj.keys.some(key => lowerMsg.includes(key)));
            if(match) return match.resp;
            return "Entiendo. Como experto en dermocosm√©tica, necesito m√°s detalles. ¬øTu consulta es sobre <b>Manchas faciales, Acn√©, Crecimiento de pesta√±as</b> o <b>Pies resecos</b>?";
        }

        const handleChat = () => {
            userMessage = chatInput.value.trim();
            if(!userMessage) return;
            chatInput.value = "";
            
            chatbox.appendChild(createChatLi(userMessage, "outgoing"));
            chatbox.scrollTo(0, chatbox.scrollHeight);

            setTimeout(() => {
                const incomingChatLi = createChatLi("Analizando tu piel...", "incoming");
                chatbox.appendChild(incomingChatLi);
                chatbox.scrollTo(0, chatbox.scrollHeight);
                setTimeout(() => {
                    incomingChatLi.querySelector("p").innerHTML = generateResponse(userMessage);
                    chatbox.scrollTo(0, chatbox.scrollHeight);
                }, 600);
            }, 400);
        }

        sendChatBtn.addEventListener("click", handleChat);
        chatInput.addEventListener("keydown", (e) => { if(e.key === "Enter" && !e.shiftKey) { e.preventDefault(); handleChat(); }});
        chatbotToggler.addEventListener("click", () => document.body.classList.toggle("show-chatbot"));
        closeBtn.addEventListener("click", () => document.body.classList.remove("show-chatbot"));
    </script>

</body>
</html>
